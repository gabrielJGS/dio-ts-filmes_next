(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return c(773)}])},7932:function(a,b,c){"use strict";c.d(b,{Z:function(){return k}});var d=c(7568),e=c(1438),f=c(4051),g=c.n(f),h=c(9669),i=c.n(h),j="https://api.themoviedb.org/3",k=function(){function a(b,c,d){var f=arguments.length>3&& void 0!==arguments[3]?arguments[3]:"",g=arguments.length>4&& void 0!==arguments[4]?arguments[4]:"",h=arguments.length>5&& void 0!==arguments[5]?arguments[5]:"";(0,e.Z)(this,a),this.login=b,this.password=c,this.apiKey=d,this.requestToken=f,this.sessionId=h,this.account_id=g}var b=a.prototype;return b.criarRequestToken=function(){var a=this;return(0,d.Z)(g().mark(function b(){var c;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(a.requestToken&&""!=a.requestToken)){b.next=2;break}return b.abrupt("return");case 2:return c="".concat(j,"/authentication/token/new?api_key=").concat(a.apiKey),b.next=5,i().get(c).then(function(b){return a.requestToken=b.data.request_token,b.data.request_token}).catch(function(a){console.error(a)});case 5:case"end":return b.stop()}},b)}))()},b.logar=function(){var a=this;return(0,d.Z)(g().mark(function b(){var c,d;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c="".concat(j,"/authentication/token/validate_with_login?api_key=").concat(a.apiKey),d={username:"".concat(a.login),password:"".concat(a.password),request_token:"".concat(a.requestToken)},b.next=4,i().post(c,d).catch(function(a){console.error(a)});case 4:case"end":return b.stop()}},b)}))()},b.criarSessao=function(){var a=this;return(0,d.Z)(g().mark(function b(){var c,d;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!a.sessionId){b.next=2;break}return b.abrupt("return");case 2:return c="".concat(j,"/authentication/session/new?api_key=").concat(a.apiKey,"&request_token=").concat(a.requestToken),b.next=5,i().get(c).catch(function(a){console.error(a.response.data)});case 5:if(!(d=b.sent).data.session_id){b.next=9;break}return a.sessionId=d.data.session_id,b.abrupt("return",d.data.session_id);case 9:case"end":return b.stop()}},b)}))()},b.criarLista=function(a,b){var c=this;return(0,d.Z)(g().mark(function d(){var e;return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return e="https://api.themoviedb.org/3/list?api_key=".concat(c.apiKey,"&session_id=").concat(c.sessionId),d.next=3,i().post(e,{name:a,description:b,language:"pt-br"}).catch(function(a){console.error(a.response.data)});case 3:return d.abrupt("return",d.sent);case 4:case"end":return d.stop()}},d)}))()},b.adicionarFilmeNaLista=function(a,b){var c=this;return(0,d.Z)(g().mark(function d(){var e;return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return e="https://api.themoviedb.org/3/list/".concat(b,"/add_item?api_key=").concat(c.apiKey,"&session_id=").concat(c.sessionId),d.next=3,i().post(e,{media_id:a}).catch(function(a){console.error(a.response.data)});case 3:return d.abrupt("return",d.sent);case 4:case"end":return d.stop()}},d)}))()},b.pegarLista=function(a){var b=this;return(0,d.Z)(g().mark(function c(){var d,e;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d="https://api.themoviedb.org/3/list/".concat(a,"?api_key=").concat(b.apiKey,"&language=pt-BR"),c.next=3,i().get(d).catch(function(a){console.error(a.response.data)});case 3:return e=c.sent,c.abrupt("return",e.data);case 5:case"end":return c.stop()}},c)}))()},b.getDetails=function(){var a=this;return(0,d.Z)(g().mark(function b(){var c,d;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a.sessionId){b.next=2;break}return b.abrupt("return",void 0);case 2:return c="https://api.themoviedb.org/3/account?api_key=".concat(a.apiKey,"&session_id=").concat(a.sessionId),b.next=5,i().get(c).catch(function(a){console.error(a.response.data)});case 5:return d=b.sent,a.account_id=d.data.id,b.abrupt("return",d.data.id);case 8:case"end":return b.stop()}},b)}))()},b.getLists=function(){var a=this;return(0,d.Z)(g().mark(function b(){var c,d;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a.account_id){b.next=3;break}return b.next=3,a.getDetails();case 3:return c="https://api.themoviedb.org/3/account/".concat(a.account_id,"/lists?api_key=").concat(a.apiKey,"&session_id=").concat(a.sessionId),b.next=6,i().get(c).catch(function(a){console.error(a.response.data)});case 6:return d=b.sent,b.abrupt("return",d.data);case 8:case"end":return b.stop()}},b)}))()},b.procurarFilme=function(a){var b=this;return(0,d.Z)(g().mark(function c(){var d,e;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=encodeURI(a),d="https://api.themoviedb.org/3/search/movie?api_key=".concat(b.apiKey,"&query=").concat(a,"&language=pt-BR"),c.next=4,i().get(d).catch(function(a){console.error(a.response.data)});case 4:return e=c.sent,c.abrupt("return",e.data);case 6:case"end":return c.stop()}},c)}))()},b.removeMovie=function(a,b){var c=this;return(0,d.Z)(g().mark(function d(){var e,f;return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(c.account_id){d.next=3;break}return d.next=3,c.getDetails();case 3:return e="https://api.themoviedb.org/3/list/".concat(a,"/remove_item?api_key=").concat(c.apiKey,"&session_id=").concat(c.sessionId),d.next=6,i().post(e,{media_id:b}).catch(function(a){console.error(a.response.data)});case 6:return f=d.sent,d.abrupt("return",f.data);case 8:case"end":return d.stop()}},d)}))()},a}()},773:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return T}});var d,e=c(7568),f=c(4051),g=c.n(f),h=c(5893),i=c(7294),j=c(7932),k=c(1163),l=c(7357),m=c(3366),n=c(7462),o=c(6010),p=c(4780),q=c(1796),r=c(948),s=c(1657),t=c(8216),u=c(5113),v=c(4867),w=c(1588);function x(a){return(0,v.Z)("MuiAlert",a)}let y=(0,w.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var z=y,A=c(3946),B=c(8169),C=(0,B.Z)((0,h.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),D=(0,B.Z)((0,h.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),E=(0,B.Z)((0,h.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),F=(0,B.Z)((0,h.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),G=(0,B.Z)((0,h.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");let H=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],I=a=>{let{variant:b,color:c,severity:d,classes:e}=a,f={root:["root",`${b}${(0,t.Z)(c||d)}`,`${b}`],icon:["icon"],message:["message"],action:["action"]};return(0,p.Z)(f,x,e)},J=(0,r.ZP)(u.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[c.variant],b[`${c.variant}${(0,t.Z)(c.color||c.severity)}`]]}})(({theme:a,ownerState:b})=>{let c="light"===a.palette.mode?q._j:q.$n,d="light"===a.palette.mode?q.$n:q._j,e=b.color||b.severity;return(0,n.Z)({},a.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},e&&"standard"===b.variant&&{color:a.vars?a.vars.palette.Alert[`${e}Color`]:c(a.palette[e].light,.6),backgroundColor:a.vars?a.vars.palette.Alert[`${e}StandardBg`]:d(a.palette[e].light,.9),[`& .${z.icon}`]:a.vars?{color:a.vars.palette.Alert[`${e}IconColor`]}:{color:"dark"===a.palette.mode?a.palette[e].main:a.palette[e].light}},e&&"outlined"===b.variant&&{color:a.vars?a.vars.palette.Alert[`${e}Color`]:c(a.palette[e].light,.6),border:`1px solid ${(a.vars||a).palette[e].light}`,[`& .${z.icon}`]:a.vars?{color:a.vars.palette.Alert[`${e}IconColor`]}:{color:"dark"===a.palette.mode?a.palette[e].main:a.palette[e].light}},e&&"filled"===b.variant&&(0,n.Z)({fontWeight:a.typography.fontWeightMedium},a.vars?{color:a.vars.palette.Alert[`${e}FilledColor`],backgroundColor:a.vars.palette.Alert[`${e}FilledBg`]}:{backgroundColor:"dark"===a.palette.mode?a.palette[e].dark:a.palette[e].main,color:a.palette.getContrastText("dark"===a.palette.mode?a.palette[e].dark:a.palette[e].main)}))}),K=(0,r.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(a,b)=>b.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),L=(0,r.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(a,b)=>b.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),M=(0,r.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(a,b)=>b.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),N={success:(0,h.jsx)(C,{fontSize:"inherit"}),warning:(0,h.jsx)(D,{fontSize:"inherit"}),error:(0,h.jsx)(E,{fontSize:"inherit"}),info:(0,h.jsx)(F,{fontSize:"inherit"})},O=i.forwardRef(function(a,b){let c=(0,s.Z)({props:a,name:"MuiAlert"}),{action:e,children:f,className:g,closeText:i="Close",color:j,icon:k,iconMapping:l=N,onClose:p,role:q="alert",severity:r="success",variant:t="standard"}=c,u=(0,m.Z)(c,H),v=(0,n.Z)({},c,{color:j,severity:r,variant:t}),w=I(v);return(0,h.jsxs)(J,(0,n.Z)({role:q,elevation:0,ownerState:v,className:(0,o.Z)(w.root,g),ref:b},u,{children:[!1!==k?(0,h.jsx)(K,{ownerState:v,className:w.icon,children:k||l[r]||N[r]}):null,(0,h.jsx)(L,{ownerState:v,className:w.message,children:f}),null!=e?(0,h.jsx)(M,{ownerState:v,className:w.action,children:e}):null,null==e&&p?(0,h.jsx)(M,{ownerState:v,className:w.action,children:(0,h.jsx)(A.Z,{size:"small","aria-label":i,title:i,color:"inherit",onClick:p,children:d||(d=(0,h.jsx)(G,{fontSize:"small"}))})}):null]}))});var P=O,Q=c(5861),R=c(2474),S=c(3321),T=function(){var a,b=(0,k.useRouter)(),c=(0,i.useState)(""),d=c[0],f=c[1],m=(0,i.useState)(""),n=m[0],o=m[1],p=(0,i.useState)(""),q=p[0],r=p[1],s=(0,i.useState)(""),t=s[0],u=s[1],v=(a=(0,e.Z)(g().mark(function a(){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=new j.Z(n,q,t),a.next=3,c.criarRequestToken().then(function(){c.logar().then(function(){c.criarSessao().then(function(){c.getDetails().then(function(){console.log(c),alert("Login realizado com sucesso"),localStorage.setItem("user",JSON.stringify(c)),b.push("./")})}).catch(function(a){console.log(a),f(a.message)})})});case 3:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});return(0,i.useEffect)(function(){localStorage.getItem("user")&&b.push("./")},[]),(0,h.jsxs)(l.Z,{m:2,pt:3,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"60%"},children:[d.length>0?(0,h.jsx)(P,{severity:"error",children:d}):null,(0,h.jsx)(Q.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Login"}),(0,h.jsx)(R.Z,{fullWidth:!0,label:"Login",variant:"outlined",margin:"dense",onChange:function(a){return o(a.target.value)}}),(0,h.jsx)(R.Z,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",margin:"dense",onChange:function(a){return r(a.target.value)}}),(0,h.jsx)(R.Z,{fullWidth:!0,label:"Api Key",variant:"outlined",margin:"dense",onChange:function(a){return u(a.target.value)}}),(0,h.jsx)(S.Z,{variant:"contained",onClick:v,children:"Login"})]})}}},function(a){a.O(0,[999,774,888,179],function(){var b;return a(a.s=3236)}),_N_E=a.O()}])